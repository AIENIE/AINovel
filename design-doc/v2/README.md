# AINovel v2 设计文档

> 本目录包含 AINovel v2 版本的全部设计文档，覆盖从上下文记忆到工作台优化的 7 大功能模块。

## 文档索引

| 序号 | 文件 | 主题 | 优先级 |
|------|------|------|--------|
| 00 | [00-v2-总体规划.md](00-v2-总体规划.md) | 愿景、架构演进、技术选型、路线图 | — |
| 01 | [01-上下文记忆系统.md](01-上下文记忆系统.md) | Lorebook + KAG 知识图谱 | P0 |
| 02 | [02-风格画像与角色声音.md](02-风格画像与角色声音.md) | 风格锁定 + 角色语言个性化 | P1 |
| 03 | [03-AI-Beta-Reader与连续性检查.md](03-AI-Beta-Reader与连续性检查.md) | 稿件分析 + 事实一致性检测 | P1 |
| 04 | [04-版本控制系统.md](04-版本控制系统.md) | 快照、分支、回滚、diff | P2 |
| 05 | [05-稿件导出系统.md](05-稿件导出系统.md) | TXT / DOCX / EPUB / PDF 导出 | P2 |
| 06 | [06-多模型协作.md](06-多模型协作.md) | 模型路由 + 能力标签 | P3 |
| 07 | [07-工作台与体验优化.md](07-工作台与体验优化.md) | IDE 布局、快捷键、写作统计 | P4 |
| 08 | [08-数据库变更总览.md](08-数据库变更总览.md) | 全部新增/修改表 DDL 汇总 | — |
| 09 | [09-API接口总览.md](09-API接口总览.md) | 全部新增 API 端点速查 | — |
| 10 | [10-前端设计系统.md](10-前端设计系统.md) | 配色、排版、布局、动效、交互模式 | — |

## 阅读建议

1. 先读 **00-总体规划** 了解全局架构和路线图
2. 按优先级顺序阅读模块文档（01 → 02 → 03 → ...）
3. 开发前查阅 **08-数据库变更总览** 和 **09-API接口总览** 作为速查手册

## 关键技术决策

| 决策项 | 选型 |
|--------|------|
| 知识图谱 | Neo4j 5.x Community + spring-boot-starter-data-neo4j |
| 文档导出 | Apache POI (DOCX) + OpenPDF (PDF) + epublib (EPUB) |
| 版本差异 | java-diff-utils (后端) + react-diff-viewer (前端) |
| 面板布局 | shadcn/ui ResizablePanels |
| 图可视化 | react-force-graph / D3 |
| 异步任务 | Spring @Async + 状态轮询 |
| 配色方案 | 暖白 + 鼠尾草绿 (#FAFAF8 / #5B7F67 / #8B6F4E) |
| 布局策略 | IDE 多面板 (react-resizable-panels) |
| AI 交互 | 内联建议 + 侧栏并存 |

## 文档规范

- 语言：简体中文
- 代码路径：反引号标注，如 `backend/src/main/java/com/ainovel/app/context/`
- 跨文档引用：`→ 见 0X-文档名.md § 章节号`
- 每篇模块文档遵循统一结构：文档信息 → 背景与动机 → 设计目标 → 详细设计（数据模型 / 后端 / API / 前端 / Prompt 工程）→ 集成点 → 实施注意事项 → 验收标准
